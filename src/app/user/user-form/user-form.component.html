<div class="col-5">

    <h3 class="mt-3"> USER</h3>

    <form 
        class="mt-4" 
        [formGroup]="userForm" 
        (ngSubmit)="saveUser()" 
    >
        <div class="form-group">
            <label for="iname">Name</label>

            <input type="text" 
                class="form-control" 
                [ngClass]="{'is-invalid': (name.invalid && (name.dirty || name.touched))}"
                formControlName="name">

            <div 
                class="invalid-feedback" 
                *ngIf="name.hasError('required') && (name.dirty || name.touched)"
            >
               Required name.
            </div>
        </div>

        <div class="form-group">

            <mat-form-field class="example-full-width">
                <input matInput 
                    [matDatepicker]="picker" 
                    placeholder="Choose a birthDay" 
                    formControlName="birthDay"
                >

                <mat-datepicker-toggle matSuffix [for]="picker">
                    <mat-icon matDatepickerToggleIcon>
                        keyboard_arrow_down
                    </mat-icon>
                </mat-datepicker-toggle>

                <mat-datepicker #picker></mat-datepicker>

                <mat-error *ngIf="birthDay.hasError('required')">
                    Required birth day.
                </mat-error>

            </mat-form-field>
        </div>

        <div class="form-group">
            <label>Phone</label>

            <input type="text" 
                class="form-control"   
                formControlName="phone"
                [ngClass]="{'is-invalid': phone.invalid && ( phone.touched || phone.dirty )}"
            >
        
            <div 
                class="invalid-feedback" 
                *ngIf="phone.hasError('required') && (phone.dirty || phone.touched)"
            >
               Required phone.
            </div>

            <div 
                class="invalid-feedback" 
                *ngIf="phone.hasError('checkNumber') && (phone.dirty || phone.touched)"
            >
               Phone invalid;
            </div>

        </div>

        <div class="form-group">
            <label for="iname">Email</label>

            <input type="email" 
                class="form-control"
                [readonly] = "id" 
                [ngClass]="{'is-invalid': (email.invalid && (email.dirty || email.touched))}"
                formControlName="email">

            <div 
                class="invalid-feedback" 
                *ngIf="email.hasError('required') && (email.dirty || email.touched)"
            >
               Required email.
            </div>

            <div 
                class="invalid-feedback" 
                *ngIf="email.hasError('email') && (email.dirty || email.touched)"
            >
                Invalid email.
            </div>
        </div>

        <div 
            class="form-group"
        >
            <label for="iname">Password</label>

            <input type="password" 
                class="form-control" 
                [ngClass]="{'is-invalid': password.invalid && (password.dirty || password.touched)}"
                formControlName="password"
            >

            <div 
                class="invalid-feedback" 
                *ngIf="password.hasError('required') && (password.dirty || password.touched)"
            >
               Required password.
            </div>

            <div 
                class="invalid-feedback" 
                *ngIf="password.hasError('minlength') && (password.dirty || password.touched)"
            >
                Min length 10
            </div>
            
            <div 
                class="invalid-feedback" 
                *ngIf="password.hasError('maxlength') && (password.dirty || password.touched)"
            >
                Max length 50
            </div>

        </div>

        <div class="text-center">
            <a 
                type="submit" 
                class="btn btn-primary mr-3" 
                [routerLink]="['/user']"
            >
                Come back
            </a>

            <button 
                type="submit" 
                class="btn btn-success" 
                [disabled]="userForm.invalid"
            >
                Save
            </button>
        </div>
    </form>
</div>

